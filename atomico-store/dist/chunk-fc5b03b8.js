function e(e,t,n){if(t=t||{},arguments.length>3){n=[n];for(let e=3;e<arguments.length;e++)n.push(arguments[e])}null!=n&&(t.children=n);let r={type:e,props:t},o=t.key;return null!=o&&(r.key=""+o),r}function t(t){return null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t?e(null,null,""+t):t}const n=[],r={},o=Symbol("Atomico.state"),s="localName",l="host",i=97,a=116,c=79,u=77,h=73,p=67,d={children:1},f={innerHTML:1,textContent:1,contenteditable:1},m={className:1,id:1,checked:1,value:1,selected:1},y={},b={};function g(e,t){let n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}let k,v,w=Promise.prototype.then.bind(Promise.resolve());function x(e){return"function"==typeof e}function C(e,t,n,r,o,s,l){if(n=null==n?null:n,r=null==r?null:r,(t="class"!=t||o?t:"className")in e&&m[t]&&(n=e[t]),r!==n)if("o"!=t[0]||"n"!=t[1]||!x(r)&&!x(n))switch(t){case"ref":r&&(r.current=e);break;case"style":!function(e,t,n){let r=t,o=n;if("object"==typeof o){o="";for(let e in n)n[e]&&(b[e]||(b[e]=e.replace(/([A-Z])/g,"-$1").toLowerCase()),o+=`${b[e]}:${n[e]};`)}r!=o&&(e.style.cssText=o)}(e,n||e.style.cssText,r);break;case"shadowDom":"attachShadow"in e&&(e.shadowRoot&&!r||!e.shadowRoot&&r)&&e.attachShadow({mode:r?"open":"closed"});break;case"key":t="data-key",null==r?delete e.dataset.key:e.dataset.key=r;break;default:!o&&"list"!=t&&t in e?e[t]=null==r?"":r:null==r?e.removeAttribute(t):e.setAttribute(t,r)}else!function(e,t,n,r,o){y[t]||(y[t]=t.slice(2).toLocaleLowerCase());t=y[t],r.handleEvent||(r.handleEvent=(e=>r[e.type].call(o,e)));n?(r[t]||e.addEventListener(t,r),r[t]=n):r[t]&&(e.removeEventListener(t,r),delete r[t])}(e,t,r,s,l)}function N(){if(!k)throw new Error("the hooks can only be called from an existing functional component in the diff queue");return k}function A(e,t){let n,r,o=N().component,s=v++;return o.hooks[s]||(r=!0,o.hooks[s]=[t,e=>{n[2]&&(n[0]=n[2](n[0],e))}]),(n=o.hooks[s])[2]=e,r&&n[1]({type:i}),n}function E(e,t){let n=e.length;for(let r=0;r<n;r++){let n=e[r],o=n.hooks,s=o.length;t.type===p&&(n.remove=!0);for(let e=0;e<s;e++){o[e][1](t)}}}function L(e,n){let r,o=[];function s(i,h){if(!r)return;if(!x((i=t(i)).type))return E(o.splice(h),{type:p}),r=S(e,r,i,n,l),void(o.length&&(r[e.id].updateComponent=l));let d,f,m=o[h]||{};m.type!=i.type&&(E(o.splice(h),{type:p}),o[h]=function e(t,n){for(let e in n)t[e]=n[e];for(let n=2;n<arguments.length;n++)e(t,arguments[n]);return t}({hooks:[],ref:{get current(){return r}}},i),d=!0,f=!0),m=o[h];let y=i.props,b=m.props;if(!f){let e=Object.keys(b).length,t=0;for(let e in y)if(t++,y[e]!=b[e]){f=!0;break}f=f||e!=t}m.props=y,f&&!m.prevent&&function e(){if(m.remove)return r;k={component:m,next(){m.prevent||(m.prevent=!0,w(()=>{m.prevent=!1,e()}))}},v=0,E([m],{type:a});let t=m.type(m.props);k=!1,v=0,s(t,h+1),E([m],{type:d?c:u}),d=!1}()}function l(e,t,n){switch(e){case a:return r=t,s(n,0),r;case h:E([].concat(o).reverse(),{type:e});break;case p:r=!1,E(o.reverse(),{type:e}),o=[]}}return l}function S(e,t,n,r,o){let{vnode:i,updateComponent:c,handlers:u={}}=t&&t[e.id]||{};if(i==n)return t;i=i||{props:{}};let{type:h,props:p}=n,{shadowDom:m,children:y}=p,b=x(h);if(r=r||"svg"==h,b&&!c&&(c=L(e,r)),!b&&h!=l&&function(e){if(!e)return;e[s]||(e[s]=e.nodeName.toLowerCase());let t=e[s];return"#text"==t?null:t}(t)!==h){let n=j(h,r),s=t&&t.parentNode;s&&(P(e,t,!0,o),s.replaceChild(n,t)),t=n,u={}}if(c&&o!=c)return c(a,t,n);if(null==h)t.nodeValue!=y&&(t.nodeValue=y);else{(function(e,t,n,r,o,s){t=t||{};for(let s in t)d[s]||s in n||C(e,s,t[s],null,r,o);let l;for(let i in n)d[i]||(C(e,i,t[i],n[i],r,o,s),l=l||f[i]);return l})(t,i.props,n.props,r,u,e.bind)||i.props.children==y||function(e,t,n,r){let o=[],s=$(n,!1,o),l=s.length,i=t.childNodes,a={},c=i.length,u=o.withKeyes,h=u?0:c>l?l:c;for(;h<c;h++){let n=i[h],r=h;u&&(r=n.dataset.key,o.indexOf(r)>-1)?a[r]=n:(P(e.id,n),h--,c--,t.removeChild(n))}for(let n=0;n<l;n++){let o=s[n],l=i[n],c=u?o.key:n,h=u?a[c]:l;u&&h&&h!=l&&t.insertBefore(h,l);let p=S(e,!h&&x(o.type)?j(null):h,o,r);h||(i[n]?t.insertBefore(p,i[n]):t.appendChild(p))}}(e,m&&t.shadowRoot||t,y,r)}return t[e.id]={vnode:n,handlers:u},t}function P(e,t,n,r){let{updateComponent:o}=t[e]||{},s=t.childNodes,l=s.length;o&&o!=r&&o(n?h:p);for(let t=0;t<l;t++)P(e,s[t])}function j(e,t){let n,r=document;return n=null!=e?t?r.createElementNS("http://www.w3.org/2000/svg",e):r.createElement(e):r.createTextNode("")}function $(e,r,o,s,l=0){if(o=o||[],s=s||[],i=e,Array.isArray(i)){let t=e.length;for(let n=0;n<t;n++)$(e[n],r,o,s,l+1)}else{if(null==e&&!l)return n;let i=r?r(e,s.length):t(e);r||"object"==typeof i&&null!=i.key&&-1==o.indexOf(i.key)&&(o.push(i.key),o.withKeyes=!0),s.push(i)}var i;return s}function O(n,s,i=r){let a={id:i.id||o,bind:i.bind,host:i.host};n=t(n),a.host||n.type==l||(n=e(l,{},n)),S(a,s,n)}function B(e){let t=A(0,[])[0];if(!t[1]){let n=N().next;t.push(x(e)?e():e,function(e){t[0]=x(e)?e():e,n()})}return t}function R(e,t){A((n,r)=>{switch(r.type){case i:return{args:t};case a:case p:if(n.clear){(r.type==p||!t||!n.args||!g(t,n.args))&&n.clear.then(e=>e&&e())}return{args:t};case c:case u:let o=r.type==c||!t||!n.args||!g(t,n.args),s=n.clear;return o&&(s=w(e)),{clear:s,args:t}}return n})}function T(e,t){let n=A(0,[])[0];return(!n[0]||n[0]&&!g(n[0],t))&&(n[1]=e()),n[0]=t,n[1]}function D(e,t){let n=A(0,[])[0];if(!n.current){let e=N().next;n.push(t,t=>{n[0]=n[2](n[0],t),e()})}return n[2]=e,n}function H(e){return JSON.parse(e)}class K extends HTMLElement{constructor(){super(),this.props={},this.mounted=new Promise(e=>this.mount=e),this.unmounted=new Promise(e=>this.unmount=e)}connectedCallback(){this.mount()}disconnectedCallback(){this.unmount()}attributeChangedCallback(e,t,n){t!=n&&this.setProperty(e,n)}static get observedAttributes(){let e=this.observables||{},t=[],n=(e,t,n)=>{Object.defineProperty(this.prototype,e,{set(r){if(n===Boolean){let e=this.hasAttribute(t);if(r&&e||!r&&!e)return;this[r?"setAttribute":"removeAttribute"](t,"")}else this.setProperty(e,r)},get(){return this.props[e]}})};for(let r in e){let o=r.replace(/([A-Z])/g,"-$1").toLowerCase();t.push(o),name in this.prototype||n(r,o,e[r])}return t}setProperty(e,t){e=e.replace(/-(\w)/g,(e,t)=>t.toUpperCase());let n,{observables:r}=this.constructor,o=r[e];try{if("string"==typeof t)switch(o){case Boolean:t=1==H(t||"true");break;case Number:t=Number(t);break;case Object:case Array:t=H(t);break;case Function:t=window[t]}}catch(e){n=!0}if((n||{}.toString.call(t)!=`[object ${o.name}]`)&&null!=t)throw`the observable [${e}] must be of the type [${o.name}]`;this.props[e]!==t&&this.update({[e]:t})}}class M extends K{constructor(){let t;super();let n={id:Symbol("state"),bind:this,host:!0},{styles:r}=this.constructor;this.render=this.render.bind(this);let o={};this.update=(s=>{for(let e in s)o[e]=s[e];t||(t=!0,this.mounted.then(()=>{let s=this.props={...this.props};for(let e in o){null==o[e]?delete s[e]:s[e]=o[e]}o={},O(e(this.render,s),this,n),t=!1,r&&this.shadowRoot&&(this.shadowRoot.adoptedStyleSheets=r,r=null)}))}),this.unmounted.then(()=>O("",this,n)),this.update()}}function V(t,n){return customElements.define(t,n instanceof M?n:function(e){let t=class extends M{};return t.prototype.render=e,t.observables=e.observables,t.styles=e.styles,t}(n)),n=>e(t,n)}var Z=":host{padding:.25rem 1rem;border-radius:5px;cursor:pointer;display:inline-flex;align-items:center;background:var(--theme-atomico-dark,#000);color:var(--theme-atomico-white,#fff)}.counter,:host(.checked){background:var(--theme-atomico-white,#fff);color:var(--theme-atomico-dark,#000)}.counter{width:16px;height:16px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:700;margin-left:.5rem}:host(.checked) .counter{background:var(--theme-atomico-dark,#000);color:var(--theme-atomico-white,#fff)}";function q({checked:t,counter:n}){return e("host",{shadowDom:!0,class:t?"checked":""},e("style",null,Z),e("slot",null),n>0&&e("div",{class:"counter"},n))}q.observables={checked:Boolean,counter:Number};var z=V("atomico-store-button",q);export{T as a,B as b,R as c,$ as d,e,x as f,V as g,D as h,z as i};
//# sourceMappingURL=chunk-fc5b03b8.js.map
